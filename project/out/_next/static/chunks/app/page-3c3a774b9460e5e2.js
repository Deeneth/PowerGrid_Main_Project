(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5278:function(e,t,s){Promise.resolve().then(s.bind(s,7047))},7047:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eB}});var a=s(7437),r=s(2265),i=s(7346),n=s(6840),l=s(8244),o=s(9409),d=s(7042),c=s(4769);function x(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,c.m6)((0,d.W)(t))}let m=[{id:"dashboard",label:"Dashboard",icon:i.Z},{id:"forecast",label:"New Forecast",icon:n.Z},{id:"history",label:"History",icon:l.Z},{id:"settings",label:"Settings",icon:o.Z}];function u(e){let{activeTab:t,onTabChange:s}=e;return(0,a.jsxs)("div",{className:"w-64 bg-slate-900 text-white h-screen fixed left-0 top-0 flex flex-col",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Supply Chain AI"}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Material Demand Forecasting"})]}),(0,a.jsx)("nav",{className:"flex-1 p-4",children:m.map(e=>{let r=e.icon;return(0,a.jsxs)("button",{onClick:()=>s(e.id),className:x("w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-2 transition-all",t===e.id?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-800"),children:[(0,a.jsx)(r,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.id)})}),(0,a.jsxs)("div",{className:"p-4 border-t border-slate-700",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"POWERGRID Projects"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Model v1.0"})]})]})}var h=s(7256),f=s(9213);let p=(0,f.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:n=!1,...l}=e,o=n?h.g7:"button";return(0,a.jsx)(o,{className:x(p({variant:r,size:i,className:s})),ref:t,...l})});j.displayName="Button";let g=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:x("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});g.displayName="Input";var b=s(6743);let N=(0,f.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(b.f,{ref:t,className:x(N(),s),...r})});v.displayName=b.f.displayName;var y=s(2875),w=s(3523),_=s(9224),S=s(2442);let C=y.fC;y.ZA;let k=y.B4,T=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(y.xz,{ref:t,className:x("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,a.jsx)(y.JO,{asChild:!0,children:(0,a.jsx)(w.Z,{className:"h-4 w-4 opacity-50"})})]})});T.displayName=y.xz.displayName;let M=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(y.u_,{ref:t,className:x("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(_.Z,{className:"h-4 w-4"})})});M.displayName=y.u_.displayName;let D=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(y.$G,{ref:t,className:x("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(w.Z,{className:"h-4 w-4"})})});D.displayName=y.$G.displayName;let R=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...n}=e;return(0,a.jsx)(y.h_,{children:(0,a.jsxs)(y.VY,{ref:t,className:x("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...n,children:[(0,a.jsx)(M,{}),(0,a.jsx)(y.l_,{className:x("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(D,{})]})})});R.displayName=y.VY.displayName;let V=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(y.__,{ref:t,className:x("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})});V.displayName=y.__.displayName;let I=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(y.ck,{ref:t,className:x("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(y.wU,{children:(0,a.jsx)(S.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(y.eT,{children:r})]})});I.displayName=y.ck.displayName;let E=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(y.Z0,{ref:t,className:x("-mx-1 my-1 h-px bg-muted",s),...r})});E.displayName=y.Z0.displayName;let F=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:x("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});F.displayName="Card";let O=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:x("flex flex-col space-y-1.5 p-6",s),...r})});O.displayName="CardHeader";let A=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:x("text-2xl font-semibold leading-none tracking-tight",s),...r})});A.displayName="CardTitle";let P=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:x("text-sm text-muted-foreground",s),...r})});P.displayName="CardDescription";let Z=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:x("p-6 pt-0",s),...r})});Z.displayName="CardContent";let q=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:x("flex items-center p-6 pt-0",s),...r})});q.displayName="CardFooter";var G=s(3715);function z(e){let{onSubmit:t,loading:s}=e,[i,n]=(0,r.useState)({name:"",budget:0,location:"",tower_type:"",substation_type:"",geographic_conditions:"",tax_rate:0});return(0,a.jsxs)(F,{className:"w-full",children:[(0,a.jsxs)(O,{children:[(0,a.jsx)(A,{children:"Project Details"}),(0,a.jsx)(P,{children:"Enter project parameters to generate material demand forecast"})]}),(0,a.jsx)(Z,{children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(i)},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v,{htmlFor:"name",children:"Project Name"}),(0,a.jsx)(g,{id:"name",placeholder:"e.g., Delhi-Agra Transmission Line",value:i.name,onChange:e=>n({...i,name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v,{htmlFor:"budget",children:"Budget (â‚¹)"}),(0,a.jsx)(g,{id:"budget",type:"number",placeholder:"e.g., 50000000",value:i.budget||"",onChange:e=>n({...i,budget:Number(e.target.value)}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v,{htmlFor:"location",children:"Location/Region"}),(0,a.jsxs)(C,{value:i.location,onValueChange:e=>n({...i,location:e}),required:!0,children:[(0,a.jsx)(T,{children:(0,a.jsx)(k,{placeholder:"Select location"})}),(0,a.jsxs)(R,{children:[(0,a.jsx)(I,{value:"North",children:"North"}),(0,a.jsx)(I,{value:"South",children:"South"}),(0,a.jsx)(I,{value:"East",children:"East"}),(0,a.jsx)(I,{value:"West",children:"West"}),(0,a.jsx)(I,{value:"Central",children:"Central"}),(0,a.jsx)(I,{value:"Coastal",children:"Coastal"}),(0,a.jsx)(I,{value:"Mountain",children:"Mountain"}),(0,a.jsx)(I,{value:"Plain",children:"Plain"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v,{htmlFor:"tower_type",children:"Tower Type"}),(0,a.jsxs)(C,{value:i.tower_type,onValueChange:e=>n({...i,tower_type:e}),required:!0,children:[(0,a.jsx)(T,{children:(0,a.jsx)(k,{placeholder:"Select tower type"})}),(0,a.jsxs)(R,{children:[(0,a.jsx)(I,{value:"Transmission 400kV",children:"Transmission 400kV"}),(0,a.jsx)(I,{value:"Transmission 220kV",children:"Transmission 220kV"}),(0,a.jsx)(I,{value:"Transmission 132kV",children:"Transmission 132kV"}),(0,a.jsx)(I,{value:"Distribution 66kV",children:"Distribution 66kV"}),(0,a.jsx)(I,{value:"Distribution 33kV",children:"Distribution 33kV"}),(0,a.jsx)(I,{value:"Distribution 11kV",children:"Distribution 11kV"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v,{htmlFor:"substation_type",children:"Substation Type"}),(0,a.jsxs)(C,{value:i.substation_type,onValueChange:e=>n({...i,substation_type:e}),required:!0,children:[(0,a.jsx)(T,{children:(0,a.jsx)(k,{placeholder:"Select substation type"})}),(0,a.jsxs)(R,{children:[(0,a.jsx)(I,{value:"None",children:"None"}),(0,a.jsx)(I,{value:"Grid Substation",children:"Grid Substation"}),(0,a.jsx)(I,{value:"Switching Station",children:"Switching Station"}),(0,a.jsx)(I,{value:"Distribution Substation",children:"Distribution Substation"}),(0,a.jsx)(I,{value:"Transformation Substation",children:"Transformation Substation"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v,{htmlFor:"geographic_conditions",children:"Geographic Conditions"}),(0,a.jsxs)(C,{value:i.geographic_conditions,onValueChange:e=>n({...i,geographic_conditions:e}),required:!0,children:[(0,a.jsx)(T,{children:(0,a.jsx)(k,{placeholder:"Select terrain"})}),(0,a.jsxs)(R,{children:[(0,a.jsx)(I,{value:"Plain",children:"Plain"}),(0,a.jsx)(I,{value:"Hilly",children:"Hilly"}),(0,a.jsx)(I,{value:"Mountain",children:"Mountain"}),(0,a.jsx)(I,{value:"Coastal",children:"Coastal"}),(0,a.jsx)(I,{value:"Desert",children:"Desert"}),(0,a.jsx)(I,{value:"Forest",children:"Forest"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v,{htmlFor:"tax_rate",children:"Tax Rate (%)"}),(0,a.jsx)(g,{id:"tax_rate",type:"number",step:"0.01",placeholder:"e.g., 18",value:i.tax_rate||"",onChange:e=>n({...i,tax_rate:Number(e.target.value)}),required:!0})]})]}),(0,a.jsx)(j,{type:"submit",className:"w-full",size:"lg",disabled:s,children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(G.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Forecast..."]}):"Predict Material Demand"})]})})]})}let U=(0,f.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function L(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:x(U({variant:s}),t),...r})}let B=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:x("w-full caption-bottom text-sm",s),...r})})});B.displayName="Table";let H=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:x("[&_tr]:border-b",s),...r})});H.displayName="TableHeader";let J=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:x("[&_tr:last-child]:border-0",s),...r})});J.displayName="TableBody";let K=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:x("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})});K.displayName="TableFooter";let W=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:x("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});W.displayName="TableRow";let Q=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:x("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});Q.displayName="TableHead";let Y=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:x("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});Y.displayName="TableCell";let X=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:x("mt-4 text-sm text-muted-foreground",s),...r})});X.displayName="TableCaption";var $=s(5817),ee=s(5790),et=s(5253),es=s(45),ea=s(6573),er=s(4235),ei=s(39),en=s(6812),el=s(1125),eo=s(4909),ed=s(9857),ec=s(2001);function ex(e){let{projectName:t,materials:s,confidence:r,onExport:i}=e,n=[{name:"Steel",quantity:s.steel_tons,unit:"tons",category:"Primary"},{name:"Concrete",quantity:s.concrete_m3,unit:"m\xb3",category:"Primary"},{name:"Copper Cable",quantity:s.copper_km,unit:"km",category:"Primary"},{name:"Insulators",quantity:s.insulators_units,unit:"units",category:"Components"},{name:"Transformers",quantity:s.transformers_units,unit:"units",category:"Equipment"},{name:"Circuit Breakers",quantity:s.circuit_breakers_units,unit:"units",category:"Equipment"}],l=[{month:"Month 1",demand:.2*s.steel_tons},{month:"Month 2",demand:.4*s.steel_tons},{month:"Month 3",demand:.65*s.steel_tons},{month:"Month 4",demand:.85*s.steel_tons},{month:"Month 5",demand:.95*s.steel_tons},{month:"Month 6",demand:s.steel_tons}],o=[{name:"Steel",value:s.steel_tons,fill:"#3b82f6"},{name:"Concrete",value:s.concrete_m3,fill:"#10b981"},{name:"Copper",value:10*s.copper_km,fill:"#f59e0b"}];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:t}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Material Demand Forecast"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-slate-600",children:"Confidence Score"}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(L,{className:r>=90?"bg-green-500":r>=80?"bg-blue-500":r>=70?"bg-yellow-500":"bg-red-500",children:[r,"%"]})})]}),(0,a.jsxs)(j,{onClick:i,variant:"outline",children:[(0,a.jsx)($.Z,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(F,{children:[(0,a.jsx)(O,{className:"pb-3",children:(0,a.jsx)(A,{className:"text-sm font-medium text-slate-600",children:"Total Steel"})}),(0,a.jsxs)(Z,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.steel_tons.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"tons"})]})]}),(0,a.jsxs)(F,{children:[(0,a.jsx)(O,{className:"pb-3",children:(0,a.jsx)(A,{className:"text-sm font-medium text-slate-600",children:"Total Concrete"})}),(0,a.jsxs)(Z,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.concrete_m3.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"cubic meters"})]})]}),(0,a.jsxs)(F,{children:[(0,a.jsx)(O,{className:"pb-3",children:(0,a.jsx)(A,{className:"text-sm font-medium text-slate-600",children:"Copper Cable"})}),(0,a.jsxs)(Z,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.copper_km.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"kilometers"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(F,{children:[(0,a.jsxs)(O,{children:[(0,a.jsxs)(A,{className:"flex items-center gap-2",children:[(0,a.jsx)(ee.Z,{className:"w-5 h-5"}),"Projected Material Demand Timeline"]}),(0,a.jsx)(P,{children:"Steel demand over project duration"})]}),(0,a.jsx)(Z,{children:(0,a.jsx)(et.h,{width:"100%",height:250,children:(0,a.jsxs)(es.T,{data:l,children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"colorDemand",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),(0,a.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),(0,a.jsx)(ea.q,{strokeDasharray:"3 3"}),(0,a.jsx)(er.K,{dataKey:"month"}),(0,a.jsx)(ei.B,{}),(0,a.jsx)(en.u,{}),(0,a.jsx)(el.u,{type:"monotone",dataKey:"demand",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorDemand)"})]})})})]}),(0,a.jsxs)(F,{children:[(0,a.jsxs)(O,{children:[(0,a.jsx)(A,{children:"Material Distribution"}),(0,a.jsx)(P,{children:"Primary materials comparison"})]}),(0,a.jsx)(Z,{children:(0,a.jsx)(et.h,{width:"100%",height:250,children:(0,a.jsxs)(eo.v,{data:o,children:[(0,a.jsx)(ea.q,{strokeDasharray:"3 3"}),(0,a.jsx)(er.K,{dataKey:"name"}),(0,a.jsx)(ei.B,{}),(0,a.jsx)(en.u,{}),(0,a.jsx)(ed.D,{}),(0,a.jsx)(ec.$,{dataKey:"value",fill:"#3b82f6"})]})})})]})]}),(0,a.jsxs)(F,{children:[(0,a.jsxs)(O,{children:[(0,a.jsx)(A,{children:"Detailed Material Requirements"}),(0,a.jsx)(P,{children:"Complete breakdown of all materials"})]}),(0,a.jsx)(Z,{children:(0,a.jsxs)(B,{children:[(0,a.jsx)(H,{children:(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{children:"Material"}),(0,a.jsx)(Q,{children:"Category"}),(0,a.jsx)(Q,{className:"text-right",children:"Quantity"}),(0,a.jsx)(Q,{children:"Unit"})]})}),(0,a.jsx)(J,{children:n.map(e=>(0,a.jsxs)(W,{children:[(0,a.jsx)(Y,{className:"font-medium",children:e.name}),(0,a.jsx)(Y,{children:(0,a.jsx)(L,{variant:"outline",children:e.category})}),(0,a.jsx)(Y,{className:"text-right font-mono",children:e.quantity.toLocaleString()}),(0,a.jsx)(Y,{className:"text-slate-600",children:e.unit})]},e.name))})]})})]})]})}var em=s(6229),eu=s(8063);function eh(e){let{totalProjects:t,totalForecasts:s,avgConfidence:r}=e;return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(F,{children:[(0,a.jsxs)(O,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(A,{className:"text-sm font-medium text-slate-600",children:"Total Projects"}),(0,a.jsx)(n.Z,{className:"w-4 h-4 text-slate-600"})]}),(0,a.jsxs)(Z,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Active infrastructure projects"})]})]}),(0,a.jsxs)(F,{children:[(0,a.jsxs)(O,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(A,{className:"text-sm font-medium text-slate-600",children:"Forecasts Generated"}),(0,a.jsx)(ee.Z,{className:"w-4 h-4 text-slate-600"})]}),(0,a.jsxs)(Z,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Material predictions made"})]})]}),(0,a.jsxs)(F,{children:[(0,a.jsxs)(O,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(A,{className:"text-sm font-medium text-slate-600",children:"Avg Confidence"}),(0,a.jsx)(em.Z,{className:"w-4 h-4 text-slate-600"})]}),(0,a.jsxs)(Z,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[r.toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Model accuracy score"})]})]}),(0,a.jsxs)(F,{children:[(0,a.jsxs)(O,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(A,{className:"text-sm font-medium text-slate-600",children:"Model Status"}),(0,a.jsx)(eu.Z,{className:"w-4 h-4 text-green-600"})]}),(0,a.jsxs)(Z,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"Active"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"v1.0 operational"})]})]})]})}var ef=s(6142),ep=s(8203),ej=s(9670);function eg(e){let{projects:t,onViewForecast:s}=e;return 0===t.length?(0,a.jsx)(F,{children:(0,a.jsx)(Z,{className:"py-12 text-center",children:(0,a.jsx)("p",{className:"text-slate-600",children:"No projects found. Create your first forecast to get started."})})}):(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)(F,{children:[(0,a.jsx)(O,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(A,{children:e.name}),(0,a.jsxs)(P,{className:"flex items-center gap-4 mt-2",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(ef.Z,{className:"w-3 h-3"}),e.location]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(ep.Z,{className:"w-3 h-3"}),new Date(e.created_at).toLocaleDateString()]})]})]}),(0,a.jsx)(L,{variant:"outline",children:e.tower_type})]})}),(0,a.jsxs)(Z,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-600",children:"Budget"}),(0,a.jsxs)("p",{className:"font-semibold",children:["â‚¹",(e.budget/1e6).toFixed(1),"M"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-600",children:"Terrain"}),(0,a.jsx)("p",{className:"font-semibold",children:e.geographic_conditions})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-600",children:"Substation"}),(0,a.jsx)("p",{className:"font-semibold",children:e.substation_type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-600",children:"Tax Rate"}),(0,a.jsxs)("p",{className:"font-semibold",children:[e.tax_rate,"%"]})]})]}),e.forecasts.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-slate-700",children:["Forecasts (",e.forecasts.length,")"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.forecasts.map(t=>(0,a.jsxs)(j,{variant:"outline",size:"sm",onClick:()=>s(e,t),children:[(0,a.jsx)(ej.Z,{className:"w-3 h-3 mr-1"}),"View (",t.confidence_score,"% confidence)"]},t.id))})]})]})]},e.id))})}var eb=s(5257);let eN=(0,eb.eI)("https://0ec90b57d6e95fcbda19832f.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJib2x0IiwicmVmIjoiMGVjOTBiNTdkNmU5NWZjYmRhMTk4MzJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4ODE1NzQsImV4cCI6MTc1ODg4MTU3NH0.9I8-U0x86Ak8t2DGaIk0HfvTSLsAyzdnz-Nw00mMkKw"),ev={North:1.2,South:1,East:1.1,West:1.15,Central:.95,Coastal:1.3,Mountain:1.4,Plain:.9},ey={"Transmission 400kV":2.5,"Transmission 220kV":1.8,"Transmission 132kV":1.4,"Distribution 66kV":1,"Distribution 33kV":.7,"Distribution 11kV":.5},ew={None:0,"Grid Substation":3,"Switching Station":1.5,"Distribution Substation":1.2,"Transformation Substation":2},e_={Plain:.9,Hilly:1.2,Mountain:1.5,Coastal:1.3,Desert:1.1,Forest:1.25},eS=0,eC=new Map,ek=e=>{if(eC.has(e))return;let t=setTimeout(()=>{eC.delete(e),eR({type:"REMOVE_TOAST",toastId:e})},1e6);eC.set(e,t)},eT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?ek(s):e.toasts.forEach(e=>{ek(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},eM=[],eD={toasts:[]};function eR(e){eD=eT(eD,e),eM.forEach(e=>{e(eD)})}function eV(e){let{...t}=e,s=(eS=(eS+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>eR({type:"DISMISS_TOAST",toastId:s});return eR({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>eR({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function eI(){let[e,t]=r.useState(eD);return r.useEffect(()=>(eM.push(t),()=>{let e=eM.indexOf(t);e>-1&&eM.splice(e,1)}),[e]),{...e,toast:eV,dismiss:e=>eR({type:"DISMISS_TOAST",toastId:e})}}var eE=s(1299),eF=s(2549);let eO=eE.zt,eA=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eE.l_,{ref:t,className:x("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...r})});eA.displayName=eE.l_.displayName;let eP=(0,f.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eZ=r.forwardRef((e,t)=>{let{className:s,variant:r,...i}=e;return(0,a.jsx)(eE.fC,{ref:t,className:x(eP({variant:r}),s),...i})});eZ.displayName=eE.fC.displayName;let eq=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eE.aU,{ref:t,className:x("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...r})});eq.displayName=eE.aU.displayName;let eG=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eE.x8,{ref:t,className:x("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...r,children:(0,a.jsx)(eF.Z,{className:"h-4 w-4"})})});eG.displayName=eE.x8.displayName;let ez=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eE.Dx,{ref:t,className:x("text-sm font-semibold",s),...r})});ez.displayName=eE.Dx.displayName;let eU=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eE.dk,{ref:t,className:x("text-sm opacity-90",s),...r})});function eL(){let{toasts:e}=eI();return(0,a.jsxs)(eO,{children:[e.map(function(e){let{id:t,title:s,description:r,action:i,...n}=e;return(0,a.jsxs)(eZ,{...n,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[s&&(0,a.jsx)(ez,{children:s}),r&&(0,a.jsx)(eU,{children:r})]}),i,(0,a.jsx)(eG,{})]},t)}),(0,a.jsx)(eA,{})]})}function eB(){let[e,t]=(0,r.useState)("dashboard"),[s,i]=(0,r.useState)(!1),[n,l]=(0,r.useState)([]),[o,d]=(0,r.useState)(null),{toast:c}=eI();(0,r.useEffect)(()=>{x()},[]);let x=async()=>{try{let{data:e,error:t}=await eN.from("projects").select("*").order("created_at",{ascending:!1});if(t)throw t;let s=await Promise.all((e||[]).map(async e=>{let{data:t}=await eN.from("forecasts").select("*").eq("project_id",e.id).order("created_at",{ascending:!1});return{...e,forecasts:t||[]}}));l(s)}catch(e){console.error("Error loading projects:",e)}},m=async e=>{i(!0);try{let{data:s,error:a}=await eN.from("projects").insert({name:e.name,budget:e.budget,location:e.location,tower_type:e.tower_type,substation_type:e.substation_type,geographic_conditions:e.geographic_conditions,tax_rate:e.tax_rate}).select().maybeSingle();if(a)throw a;let{materials:r,confidence:i}=function(e){let t=ev[e.location]||1,s=ey[e.tower_type]||1,a=ew[e.substation_type]||0,r=e_[e.geographic_conditions]||1,i=e.budget/1e6,n=1+e.tax_rate/100,l=.45*i*t*s*r*n,o=.05+.1*Math.random(),d=a>0?a:.1;return{materials:{steel_tons:Math.round(15*l*(1+(Math.random()-.5)*o)),concrete_m3:Math.round(25*l*(1+(Math.random()-.5)*o)),copper_km:Math.round(8*l*(1+(Math.random()-.5)*o)*10)/10,insulators_units:Math.round(50*l*(1+(Math.random()-.5)*o)),transformers_units:Math.round(.3*i*d),circuit_breakers_units:Math.round(.5*i*d)},confidence:Math.round(10*Math.max(70,Math.min(95,85-(s+r+a)*2+5*Math.random())))/10}}({budget:e.budget,location:e.location,tower_type:e.tower_type,substation_type:e.substation_type,geographic_conditions:e.geographic_conditions,tax_rate:e.tax_rate}),{error:n}=await eN.from("forecasts").insert({project_id:s.id,confidence_score:i,predicted_materials:r,model_version:"v1.0"});if(n)throw n;d({projectName:e.name,materials:r,confidence:i}),await x(),c({title:"Forecast Generated",description:"Material demand prediction completed successfully"}),t("forecast")}catch(e){console.error("Error generating forecast:",e),c({title:"Error",description:"Failed to generate forecast. Please try again.",variant:"destructive"})}finally{i(!1)}},h=(e,s)=>{d({projectName:e.name,materials:s.predicted_materials,confidence:s.confidence_score}),t("forecast")},f=n.length,p=n.reduce((e,t)=>e+t.forecasts.length,0),j=p>0?n.reduce((e,t)=>e+t.forecasts.reduce((e,t)=>e+t.confidence_score,0),0)/p:0;return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,a.jsx)(u,{activeTab:e,onTabChange:t}),(0,a.jsx)("div",{className:"ml-64 p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:["dashboard"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-slate-600 mt-1",children:"Overview of your material forecasting projects"})]}),(0,a.jsx)(eh,{totalProjects:f,totalForecasts:p,avgConfidence:j}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Projects"}),(0,a.jsx)(eg,{projects:n.slice(0,5),onViewForecast:h})]})]}),"forecast"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Material Demand Forecast"}),(0,a.jsx)("p",{className:"text-slate-600 mt-1",children:"Generate predictions for your infrastructure project"})]}),o?(0,a.jsx)(ex,{projectName:o.projectName,materials:o.materials,confidence:o.confidence,onExport:()=>{if(!o)return;let e=function(e,t,s){let a=[["Steel",t.steel_tons.toString(),"tons"],["Concrete",t.concrete_m3.toString(),"m\xb3"],["Copper Cable",t.copper_km.toString(),"km"],["Insulators",t.insulators_units.toString(),"units"],["Transformers",t.transformers_units.toString(),"units"],["Circuit Breakers",t.circuit_breakers_units.toString(),"units"],["","",""],["Confidence Score",s.toString(),"%"]],r=["Material Demand Forecast - ".concat(e),"Generated: ".concat(new Date().toLocaleString()),"","Material,Quantity,Unit",...a.map(e=>e.join(","))].join("\n");return r}(o.projectName,o.materials,o.confidence),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="".concat(o.projectName.replace(/\s+/g,"_"),"_forecast.csv"),a.click(),window.URL.revokeObjectURL(s),c({title:"Export Successful",description:"Forecast data has been downloaded as CSV"})}}):(0,a.jsx)(z,{onSubmit:m,loading:s})]}),"history"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Project History"}),(0,a.jsx)("p",{className:"text-slate-600 mt-1",children:"View all your forecasting projects"})]}),(0,a.jsx)(eg,{projects:n,onViewForecast:h})]}),"settings"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Settings"}),(0,a.jsx)("p",{className:"text-slate-600 mt-1",children:"Configure your forecasting preferences"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg border",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Model Information"}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Current Version: v1.0"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Algorithm: Multi-factor Regression"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Last Updated: October 2025"})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg border",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Data Sources"}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Historical project data"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Regional cost variations"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Market price indices"})]})]})]})]})}),(0,a.jsx)(eL,{})]})}eU.displayName=eE.dk.displayName}},function(e){e.O(0,[429,971,864,744],function(){return e(e.s=5278)}),_N_E=e.O()}]);